(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-c1d6722e"],{1033:function(e,t,a){},"2f1d":function(e,t,a){"use strict";a.r(t);var o=a("84a9"),n=a("7dfd"),s=a("2934"),r={data(){return{data:[],addr:[]}},props:["addressId"],mounted(){},methods:{change(e,t){this.$emit("selected",[e,t[t.length-1].__label.split("/")])},loadData(a,t){a.loading=!0,Object(s.d)(a.value).then(e=>{e.result.length<=0?a.loading=!1:(e.result.forEach(e=>{a.loading=!1;var t={value:e.id,label:e.name,loading:!1,children:[]};"street"===e.level||"香港特别行政区"===a.label?a.children.push({value:e.id,label:e.name}):a.children.push(t)}),t())})},async init(){let e=await Object(s.d)(0),t=[];e.result.forEach(e=>{e="台湾省"===e.name?{value:e.id,label:e.name}:{value:e.id,label:e.name,loading:!1,children:[]};t.push(e)}),this.data=t},async reviewData(){let a=JSON.parse(JSON.stringify(this.addressId.split(","))),e=a.length,t=await Object(s.d)(0),o=[],n=[],r=[];if(t.result.forEach(e=>{e="台湾省"===e.name?{value:e.id,label:e.name}:{value:e.id,label:e.name,loading:!1,children:[]};o.push(e)}),0<e){let t=await Object(s.d)(a[0]);t=this.handleData(t.result),o.forEach(e=>{e.value===a[0]&&(e.children=n=t)})}if(1<e){let t=await Object(s.d)(a[1]);t=this.handleData(t.result),n.forEach(e=>{e.value===a[1]&&(e.children=r=t)})}if(2<e){let t=await Object(s.d)(a[2]);t=this.handleData(t.result),r.forEach(e=>{e.value===a[2]&&(e.children=t)})}this.data=o,this.addr=a},handleData(e){let a=[];return e.forEach(e=>{var t={value:e.id,label:e.name,loading:!1,children:[]};"street"===e.level||"香港特别行政区"===a.label?a.push({value:e.id,label:e.name}):a.push(t)}),a}},watch:{addressId:{handler:function(e){e?this.reviewData():this.init()},immediate:!0}}},i=a("2877"),l=Object(i.a)(r,function(){var t=this,e=t.$createElement,e=t._self._c||e;return e("div",[e("Cascader",{staticStyle:{width:"300px"},attrs:{data:t.data,"load-data":t.loadData},on:{"on-change":t.change},model:{value:t.addr,callback:function(e){t.addr=e},expression:"addr"}})],1)},[],!1,null,"5e4e8841",null).exports,c=a("e487"),d=a("ff66"),p={components:{region:l},props:{content:{default:{},type:Object}},data(){return{action:d.c+"/common/upload/file",accessToken:{},visible:!1,loading:!1,address:"",previewPicture:"",form:{legalPhoto:[],licencePhoto:[]},rules:{companyName:[{required:!0,message:"请填写公司信息"}],companyAddressIdPath:[{required:!0,message:"请选择公司所在地"}],companyAddress:[{required:!0,message:"请填写公司详细地址"}],employeeNum:[{required:!0,message:"请填写公司员工总数"},{pattern:n.integer,message:"只能填写正整数"}],registeredCapital:[{required:!0,message:"请填写公司注册资金"},{pattern:n.integer,message:"只能填写正整数"}],linkName:[{required:!0,message:"请填写联系人姓名"}],linkPhone:[{required:!0,message:"请填写联系人电话"},{pattern:n.mobile,message:"请填写正确的号码"}],companyPhone:[{required:!0,message:"请填写公司电话"},{pattern:n.TEL,message:"请填写正确的号码"}],companyEmail:[{required:!0,message:"请填写电子邮箱"},{type:"email",message:"请输入正确的邮箱"}],licenseNum:[{required:!0,message:"请填写营业执照号"},{pattern:n.licenseNum,message:"请输入正确的营业执照号"}],scope:[{required:!0,message:"请填写营业执照所示经营范围"}],legalPhoto:[{required:!0,message:"请上传法人身份证照片"}],licencePhoto:[{required:!0,message:"请上传营业执照"}],legalName:[{required:!0,message:"请输入法人姓名"}],legalId:[{required:!0,message:"请输入法人证件号"},{pattern:n.IDCard,message:"请输入正确的证件号"}]},uploadLoading1:!1,uploadLoading:!1}},methods:{next(){this.$refs.firstForm.validate(e=>{if(e){this.loading=!0;let e=JSON.parse(JSON.stringify(this.form));e.legalPhoto=this.form.legalPhoto.toString(),e.licencePhoto=this.form.licencePhoto.toString(),Object(o.b)(e).then(e=>{this.loading=!1,e.success&&this.$emit("change",1)}).catch(()=>{this.loading=!1})}})},selectedRegion(e){this.$set(this.form,"companyAddressIdPath",e[0].toString()),this.$set(this.form,"companyAddressPath",e[1].toString().replace(/\s/g,""))},beforeUpload(){if(this.uploadLoading=!0,3<=this.form.licencePhoto.length)return this.$Message.warning("最多上传三张图片"),!1},beforeUpload1(){if(this.uploadLoading1=!0,2<=this.form.legalPhoto.length)return this.$Message.warning("最多上传两张图片"),!1},handleSuccess(e,t){this.uploadLoading=!1,this.form.licencePhoto.push(e.result)},handleSuccess1(e,t){this.uploadLoading1=!1,this.form.legalPhoto.push(e.result)},uploadErr(){this.uploadLoading=!1,this.uploadLoading1=!1},handleFormatError(e){this.uploadLoading=!1,this.uploadLoading1=!1,this.$Notice.warning({title:"The file format is incorrect",desc:"上传文件格式不正确"})},handleMaxSize(e){this.uploadLoading=!1,this.uploadLoading1=!1,this.$Notice.warning({title:"Exceeding file size limit",desc:"文件大小不能超过2M"})},handleView(e){this.previewPicture=e,this.visible=!0},handleRemove(e,t){this.form[t].splice(e,1)}},mounted(){this.accessToken.accessToken=c.a.getItem("accessToken"),Object.keys(this.content).length&&(this.form=JSON.parse(JSON.stringify(this.content)),this.form.licencePhoto&&(this.form.legalPhoto=this.content.legalPhoto.split(","),this.form.licencePhoto=this.content.licencePhoto.split(","),this.address=this.form.companyAddressIdPath))}},u=(a("dcb2"),Object(i.a)(p,function(){var o=this,e=o.$createElement,n=o._self._c||e;return n("div",{staticClass:"company-msg"},[n("Form",{ref:"firstForm",attrs:{model:o.form,rules:o.rules,"label-width":140}},[n("h4",[o._v("基础信息")]),n("FormItem",{attrs:{prop:"companyName",label:"公司名称"}},[n("Input",{attrs:{type:"text",placeholder:"请填写公司信息"},model:{value:o.form.companyName,callback:function(e){o.$set(o.form,"companyName",e)},expression:"form.companyName"}})],1),n("FormItem",{attrs:{prop:"companyAddressIdPath",label:"公司所在地"}},[n("region",{staticStyle:{width:"250px"},attrs:{addressId:o.address},on:{selected:o.selectedRegion}})],1),n("FormItem",{attrs:{prop:"companyAddress",label:"公司详细地址"}},[n("Input",{attrs:{type:"text",placeholder:"请填写公司详细信息"},model:{value:o.form.companyAddress,callback:function(e){o.$set(o.form,"companyAddress",e)},expression:"form.companyAddress"}})],1),n("FormItem",{attrs:{prop:"employeeNum",label:"员工总数"}},[n("Input",{attrs:{type:"text",placeholder:"请填写公司员工总数"},model:{value:o.form.employeeNum,callback:function(e){o.$set(o.form,"employeeNum",e)},expression:"form.employeeNum"}},[n("span",{attrs:{slot:"append"},slot:"append"},[o._v("人")])])],1),n("FormItem",{attrs:{prop:"companyPhone",label:"公司电话"}},[n("Input",{attrs:{type:"text",placeholder:"请填写公司电话"},model:{value:o.form.companyPhone,callback:function(e){o.$set(o.form,"companyPhone",e)},expression:"form.companyPhone"}})],1),n("FormItem",{attrs:{prop:"registeredCapital",label:"注册资金"}},[n("Input",{attrs:{type:"text",placeholder:"请填写注册资金"},model:{value:o.form.registeredCapital,callback:function(e){o.$set(o.form,"registeredCapital",e)},expression:"form.registeredCapital"}},[n("span",{attrs:{slot:"append"},slot:"append"},[o._v("万元")])])],1),n("FormItem",{attrs:{prop:"linkName",label:"联系人姓名"}},[n("Input",{attrs:{type:"text",placeholder:"请填写联系人姓名"},model:{value:o.form.linkName,callback:function(e){o.$set(o.form,"linkName",e)},expression:"form.linkName"}})],1),n("FormItem",{attrs:{prop:"linkPhone",label:"联系人电话"}},[n("Input",{attrs:{type:"text",placeholder:"请填写联系人电话"},model:{value:o.form.linkPhone,callback:function(e){o.$set(o.form,"linkPhone",e)},expression:"form.linkPhone"}})],1),n("FormItem",{attrs:{prop:"companyEmail",label:"电子邮箱"}},[n("Input",{attrs:{type:"text",placeholder:"请填写电子邮箱"},model:{value:o.form.companyEmail,callback:function(e){o.$set(o.form,"companyEmail",e)},expression:"form.companyEmail"}})],1),n("h4",[o._v("营业执照信息")]),n("FormItem",{attrs:{prop:"licenseNum",label:"营业执照号"}},[n("Input",{attrs:{type:"text",placeholder:"请填写营业执照号"},model:{value:o.form.licenseNum,callback:function(e){o.$set(o.form,"licenseNum",e)},expression:"form.licenseNum"}})],1),n("FormItem",{attrs:{prop:"scope",label:"法定经营范围"}},[n("Input",{attrs:{type:"textarea",maxlength:"200","show-word-limit":"",rows:4,placeholder:"请输入营业执照所示经营范围"},model:{value:o.form.scope,callback:function(e){o.$set(o.form,"scope",e)},expression:"form.scope"}})],1),n("FormItem",{attrs:{prop:"licencePhoto",label:"营业执照电子版"}},[n("Upload",{ref:"uploadLicence",attrs:{"show-upload-list":!1,"on-success":o.handleSuccess,format:["jpg","jpeg","png","gif"],"max-size":2048,"before-upload":o.beforeUpload,"on-format-error":o.handleFormatError,"on-exceeded-size":o.handleMaxSize,"on-error":o.uploadErr,multiple:"",action:o.action,headers:o.accessToken}},[n("Button",{attrs:{type:"info",loading:o.uploadLoading}},[o._v("证照上传")])],1),n("div",{staticClass:"describe"},[o._v(" 请压缩图片在2M以内，格式为gif，jpg，png，并确保文字清晰，以免上传或审核失败 ")]),o._l(o.form.licencePhoto,function(t,a){return n("div",{key:a,staticClass:"img-list"},[n("img",{attrs:{src:t,width:"100",alt:""}}),n("div",{staticClass:"cover"},[n("Icon",{attrs:{type:"ios-eye-outline"},nativeOn:{click:function(e){return o.handleView(t)}}}),n("Icon",{attrs:{type:"ios-trash-outline"},nativeOn:{click:function(e){return o.handleRemove(a,"licencePhoto")}}})],1)])})],2),n("h4",[o._v("法人信息")]),n("FormItem",{attrs:{prop:"legalName",label:"法人姓名"}},[n("Input",{attrs:{type:"text",maxlength:"20",placeholder:"请输入法人姓名"},model:{value:o.form.legalName,callback:function(e){o.$set(o.form,"legalName",e)},expression:"form.legalName"}})],1),n("FormItem",{attrs:{prop:"legalId",label:"法人证件号"}},[n("Input",{attrs:{type:"text",placeholder:"请输入法人证件号"},model:{value:o.form.legalId,callback:function(e){o.$set(o.form,"legalId",e)},expression:"form.legalId"}})],1),n("FormItem",{attrs:{prop:"legalPhoto",label:"法人证件电子版"}},[n("Upload",{ref:"uploadLegal",attrs:{"show-upload-list":!1,"on-success":o.handleSuccess1,"before-upload":o.beforeUpload1,"max-size":2048,format:["jpg","jpeg","png","gif"],"on-format-error":o.handleFormatError,"on-exceeded-size":o.handleMaxSize,"on-error":o.uploadErr,multiple:"",action:o.action,headers:o.accessToken}},[n("Button",{attrs:{type:"info",loading:o.uploadLoading1}},[o._v("证照上传")])],1),n("div",{staticClass:"describe"},[o._v(" 请压缩图片在2M以内，身份证正反面两张照片，确保图片清晰无缺角 ")]),o._l(o.form.legalPhoto,function(t,a){return n("div",{key:a,staticClass:"img-list"},[n("img",{attrs:{src:t,width:"100",alt:""}}),n("div",{staticClass:"cover"},[n("Icon",{attrs:{type:"ios-eye-outline"},nativeOn:{click:function(e){return o.handleView(t)}}}),n("Icon",{attrs:{type:"ios-trash-outline"},nativeOn:{click:function(e){return o.handleRemove(a,"legalPhoto")}}})],1)])})],2),n("FormItem",[n("Button",{attrs:{type:"primary",loading:o.loading},on:{click:o.next}},[o._v("填写财务资质信息")])],1)],1),n("Modal",{attrs:{title:"View Image"},model:{value:o.visible,callback:function(e){o.visible=e},expression:"visible"}},[o.visible?n("img",{staticStyle:{width:"100%"},attrs:{src:o.previewPicture}}):o._e()])],1)},[],!1,null,"74986c22",null)).exports,r={props:{content:{default:{},type:Object}},data(){return{loading:!1,form:{},rules:{settlementBankAccountName:[{required:!0,message:"请填写银行开户名称"}],settlementBankAccountNum:[{required:!0,message:"请填写银行账号"}],settlementBankBranchName:[{required:!0,message:"请填写开户银行支行名称"}],settlementBankJointName:[{required:!0,message:"请填写支行联行号"}]}}},methods:{next(){this.$refs.secondForm.validate(e=>{e&&(this.loading=!0,Object(o.c)(this.form).then(e=>{this.loading=!1,e.success&&this.$emit("change",2)}).catch(()=>{this.loading=!1}))})}},mounted(){this.content!={}&&(this.form=JSON.parse(JSON.stringify(this.content)),this.$forceUpdate()),this.$refs.secondForm.resetFields()}},p=(a("6b7c"),Object(i.a)(r,function(){var t=this,e=t.$createElement,e=t._self._c||e;return e("div",{staticClass:"photo-msg"},[e("Form",{ref:"secondForm",attrs:{model:t.form,rules:t.rules,"label-width":140}},[e("h4",[t._v("基础信息")]),e("FormItem",{attrs:{prop:"settlementBankAccountName",label:"银行开户名"}},[e("Input",{attrs:{type:"text",placeholder:"请填写银行开户名称"},model:{value:t.form.settlementBankAccountName,callback:function(e){t.$set(t.form,"settlementBankAccountName",e)},expression:"form.settlementBankAccountName"}})],1),e("FormItem",{attrs:{prop:"settlementBankAccountNum",label:"银行账号"}},[e("Input",{attrs:{type:"text",placeholder:"请填写银行账号"},model:{value:t.form.settlementBankAccountNum,callback:function(e){t.$set(t.form,"settlementBankAccountNum",e)},expression:"form.settlementBankAccountNum"}})],1),e("FormItem",{attrs:{prop:"settlementBankBranchName",label:"开户银行支行名称"}},[e("Input",{attrs:{type:"text",placeholder:"请填写开户银行支行名称"},model:{value:t.form.settlementBankBranchName,callback:function(e){t.$set(t.form,"settlementBankBranchName",e)},expression:"form.settlementBankBranchName"}})],1),e("FormItem",{attrs:{prop:"settlementBankJointName",label:"支行联行号"}},[e("Input",{attrs:{type:"text",placeholder:"请填写支行联行号"},model:{value:t.form.settlementBankJointName,callback:function(e){t.$set(t.form,"settlementBankJointName",e)},expression:"form.settlementBankJointName"}})],1),e("FormItem",[e("Button",{on:{click:function(e){return t.$emit("change",0)}}},[t._v("返回")]),e("Button",{attrs:{type:"primary",loading:t.loading},on:{click:t.next}},[t._v("填写其他信息")])],1)],1)],1)},[],!1,null,"700ba5d7",null)).exports,m=a("c40e"),r=a("5945"),l={props:{content:{default:{},type:Object}},components:{liliMap:r.a,region:l},data(){return{loading:!1,uploadLoading:!1,action:d.c+"/common/upload/file",accessToken:{},previewPicture:"",address:"",visible:!1,form:{storeLogo:[]},rules:{goodsManagementCategory:[{required:!0,message:"请选择店铺经营类目"}],storeName:[{required:!0,message:"请填写店铺名称"}],storeLogo:[{required:!0,message:"请上传店铺logo"}],storeDesc:[{required:!0,message:"请填写店铺简介"}],storeCenter:[{required:!0,message:"请选择店铺位置"}],storeAddressIdPath:[{required:!0,message:"请选择店铺位置"}],storeAddressDetail:[{required:!0,message:"请输入店铺详细地址"}]},categoryList:[]}},methods:{next(){this.$refs.thirdForm.validate(e=>{if(e){this.loading=!0;let e=JSON.parse(JSON.stringify(this.form));e.storeLogo=this.form.storeLogo.toString(),e.goodsManagementCategory=this.form.goodsManagementCategory.toString(),Object(o.e)(e).then(e=>{this.loading=!1,e.success&&this.$emit("change",3),this.$parent.getData()}).catch(()=>{this.loading=!1})}})},beforeUpload(){if(this.uploadLoading=!0,3<=this.form.storeLogo.length)return this.$Message.warning("最多上传三张图片"),!1},handleSuccess(e,t){this.uploadLoading=!1,this.form.storeLogo.push(e.result)},handleFormatError(e){this.uploadLoading=!1,this.$Notice.warning({title:"The file format is incorrect",desc:"上传文件格式不正确"})},handleMaxSize(e){this.uploadLoading=!1,this.$Notice.warning({title:"Exceeding file size limit",desc:"文件大小不能超过2M"})},uploadErr(){this.uploadLoading=!1},handleView(e){this.previewPicture=e,this.visible=!0},handleRemove(e,t){this.form[t].splice(e,1)},getAddress(e){this.$set(this.form,"storeCenter",e.position.lng+","+e.position.lat)},getCategoryList(){Object(m.b)(0).then(e=>{e.success&&(this.categoryList=e.result)})},selectedRegion(e){this.$set(this.form,"storeAddressIdPath",e[0].toString()),this.$set(this.form,"storeAddressPath",e[1].toString().replace(/\s/g,""))}},mounted(){this.accessToken.accessToken=c.a.getItem("accessToken"),this.getCategoryList(),this.content!={}&&(this.form=JSON.parse(JSON.stringify(this.content)),this.form.storeLogo?(this.form.storeLogo=this.content.storeLogo.split(","),this.form.goodsManagementCategory=this.content.goodsManagementCategory.split(",")):this.form.storeLogo=[],this.address=this.form.storeAddressIdPath,this.$forceUpdate()),this.$refs.thirdForm.resetFields()}},l={components:{firstApply:u,secondApply:p,thirdApply:(a("6935"),Object(i.a)(l,function(){var o=this,e=o.$createElement,n=o._self._c||e;return n("div",{staticClass:"person-msg"},[n("Form",{ref:"thirdForm",attrs:{model:o.form,rules:o.rules,"label-width":140}},[n("h4",[o._v("基础信息")]),n("FormItem",{attrs:{prop:"storeName",label:"店铺名称"}},[n("Input",{attrs:{type:"text",placeholder:"请填写店铺名称"},model:{value:o.form.storeName,callback:function(e){o.$set(o.form,"storeName",e)},expression:"form.storeName"}})],1),n("FormItem",{attrs:{prop:"storeLogo",label:"店铺logo"}},[n("Upload",{ref:"uploadLogo",attrs:{"show-upload-list":!1,"on-success":o.handleSuccess,format:["jpg","jpeg","png","gif"],"max-size":2048,"before-upload":o.beforeUpload,"on-format-error":o.handleFormatError,"on-exceeded-size":o.handleMaxSize,"on-error":o.uploadErr,multiple:"",action:o.action,headers:o.accessToken}},[n("Button",{attrs:{type:"info",loading:o.uploadLoading}},[o._v("上传logo")])],1),n("div",{staticClass:"describe"},[o._v("请压缩图片在2M以内，格式为gif，jpg，png")]),o._l(o.form.storeLogo,function(t,a){return n("div",{key:a,staticClass:"img-list"},[n("img",{attrs:{src:t,width:"100",height:"",alt:""}}),n("div",{staticClass:"cover"},[n("Icon",{attrs:{type:"ios-eye-outline"},nativeOn:{click:function(e){return o.handleView(t)}}}),n("Icon",{attrs:{type:"ios-trash-outline"},nativeOn:{click:function(e){return o.handleRemove(a,"storeLogo")}}})],1)])})],2),n("FormItem",{attrs:{prop:"goodsManagementCategory",label:"店铺经营类目"}},[n("Select",{staticStyle:{width:"300px"},attrs:{multiple:""},model:{value:o.form.goodsManagementCategory,callback:function(e){o.$set(o.form,"goodsManagementCategory",e)},expression:"form.goodsManagementCategory"}},o._l(o.categoryList,function(e){return n("Option",{key:e.id,attrs:{value:e.id}},[o._v(o._s(e.name))])}),1)],1),n("FormItem",{attrs:{prop:"storeCenter",label:"店铺定位"}},[o.form.storeCenter?n("Button",{attrs:{type:"success"},on:{click:function(e){o.$refs.liliMap.showMap=!0}}},[o._v("已定位")]):n("Button",{attrs:{type:"info"},on:{click:function(e){o.$refs.liliMap.showMap=!0}}},[o._v("点击获取店铺定位")])],1),n("FormItem",{attrs:{prop:"storeAddressIdPath",label:"店铺所在地"}},[n("region",{staticStyle:{width:"250px"},attrs:{addressId:o.address},on:{selected:o.selectedRegion}})],1),n("FormItem",{attrs:{prop:"storeAddressDetail",label:"店铺详细地址"}},[n("Input",{attrs:{type:"text",placeholder:"请填写店铺详细地址"},model:{value:o.form.storeAddressDetail,callback:function(e){o.$set(o.form,"storeAddressDetail",e)},expression:"form.storeAddressDetail"}})],1),n("FormItem",{attrs:{prop:"storeDesc",label:"店铺简介"}},[n("Input",{attrs:{type:"textarea",maxlength:"200","show-word-limit":"",rows:4,placeholder:"请输入店铺简介"},model:{value:o.form.storeDesc,callback:function(e){o.$set(o.form,"storeDesc",e)},expression:"form.storeDesc"}})],1),n("FormItem",[n("Button",{on:{click:function(e){return o.$emit("change",1)}}},[o._v("返回")]),n("Button",{attrs:{type:"primary",loading:o.loading},on:{click:o.next}},[o._v("提交平台审核")])],1)],1),n("Modal",{attrs:{title:"View Image"},model:{value:o.visible,callback:function(e){o.visible=e},expression:"visible"}},[o.visible?n("img",{staticStyle:{width:"100%"},attrs:{src:o.previewPicture}}):o._e()]),n("lili-map",{ref:"liliMap",attrs:{useApi:!1},on:{getAddress:o.getAddress}})],1)},[],!1,null,"0768967c",null)).exports},data(){return{currentIndex:0,showAgreement:!1,agreementCon:"",checked:!1,firstData:{},secondData:{},thirdData:{},storeDisable:"",dataReview:!0}},methods:{getArticle(){Object(o.a)().then(e=>{this.agreementCon=e.result.content})},getData(r){Object(o.d)().then(n=>{if(n.success)if(n.result){this.dataReview=!1;let t=n.result,e=["companyAddressPath","companyAddress","companyAddressIdPath","companyEmail","companyName","employeeNum","companyPhone","legalId","legalName","licencePhoto","legalPhoto","licenseNum","linkName","linkPhone","registeredCapital","scope"],a=["settlementBankAccountName","settlementBankAccountNum","settlementBankBranchName","settlementBankJointName"],o=["goodsManagementCategory","storeCenter","storeDesc","storeLogo","storeName","storeAddressIdPath","storeAddressPath","storeAddressDetail"];this.storeDisable=t.storeDisable,e.forEach(e=>{this.firstData[e]=t[e]}),a.forEach(e=>{this.secondData[e]=t[e]}),o.forEach(e=>{this.thirdData[e]=t[e]}),"init"===r&&("APPLY"===this.storeDisable?this.currentIndex=0:this.currentIndex=3),this.$nextTick(()=>{this.dataReview=!0,this.$forceUpdate()})}else this.showAgreement=!0})},nextPage(e){this.currentIndex=e,this.getData("next")}},mounted(){this.getData("init"),this.getArticle()}},l=(a("59cf"),Object(i.a)(l,function(){var t=this,e=t.$createElement,e=t._self._c||e;return e("div",{staticClass:"shop-entry"},[e("div",{staticStyle:{height:"20px"}}),e("div",{staticClass:"content"},[e("h1",[t._v("店铺入驻")]),e("Steps",{staticClass:"margin",attrs:{current:t.currentIndex}},[e("Step",{attrs:{title:"企业资质信息"}}),e("Step",{attrs:{title:"财务资质信息"}}),e("Step",{attrs:{title:"其他信息"}}),e("Step",{attrs:{title:"提交审核"}})],1),0==t.currentIndex&&t.dataReview?e("first-apply",{attrs:{content:t.firstData},on:{change:t.nextPage}}):t._e(),1==t.currentIndex&&t.dataReview?e("second-apply",{attrs:{content:t.secondData},on:{change:t.nextPage}}):t._e(),2==t.currentIndex&&t.dataReview?e("third-apply",{attrs:{content:t.thirdData},on:{change:t.nextPage}}):t._e(),3==t.currentIndex?e("div",{staticClass:"success-page"},[""==t.storeDisable||"APPLYING"==t.storeDisable?e("span",[t._v("入驻申请提交成功，等待平台审核")]):t._e(),"OPEN"==t.storeDisable?e("span",[t._v("申请已通过，请联系管理员")]):t._e(),"CLOSED"==t.storeDisable?e("span",[t._v("店铺已关闭，重申请联系管理员")]):t._e(),"REFUSED"==t.storeDisable?e("span",[t._v("审核未通过,请修改资质信息，如有疑问请联系管理员")]):t._e()]):t._e(),3===t.currentIndex?e("Button",{on:{click:function(e){return t.$router.push("/")}}},[t._v("返回")]):t._e(),"REFUSED"===t.storeDisable&&3===t.currentIndex?e("Button",{attrs:{type:"primary"},on:{click:function(e){t.currentIndex=0}}},[t._v("重新申请")]):t._e()],1),e("Modal",{attrs:{title:"店铺入驻协议",width:"1200",closable:!1,"mask-closable":!1},model:{value:t.showAgreement,callback:function(e){t.showAgreement=e},expression:"showAgreement"}},[e("div",{staticClass:"agreeent-con",domProps:{innerHTML:t._s(t.agreementCon)}}),e("div",{staticStyle:{"text-align":"center"},attrs:{slot:"footer"},slot:"footer"},[e("p",[e("Checkbox",{model:{value:t.checked,callback:function(e){t.checked=e},expression:"checked"}},[t._v("我已同意以上协议")])],1),e("Button",{staticClass:"margin",attrs:{type:"primary",disabled:!t.checked},on:{click:function(e){t.showAgreement=!1}}},[t._v("同意协议填写资质信息")])],1)])],1)},[],!1,null,"894b74fa",null));t.default=l.exports},"2f94":function(e,t,a){"use strict";a.d(t,"e",function(){return n}),a.d(t,"f",function(){return r}),a.d(t,"b",function(){return s}),a.d(t,"a",function(){return i}),a.d(t,"c",function(){return l}),a.d(t,"d",function(){return c});var o=a("ff66");function n(){return Object(o.d)({url:"/buyer/memberAddress",needToken:!0,method:o.a.GET})}function r(e){return Object(o.d)({url:"/buyer/memberAddress",needToken:!0,method:o.a.POST,data:e})}function s(e){return Object(o.d)({url:"/buyer/memberAddress",needToken:!0,method:o.a.PUT,params:e})}function i(e){return Object(o.d)({url:"/buyer/memberAddress/delById/"+e,needToken:!0,method:o.a.DELETE})}function l(e){return Object(o.d)({url:"/buyer/memberAddress/get/"+e,needToken:!0,method:o.a.GET})}function c(e){return Object(o.d)({url:o.c+"/common/region/region",needToken:!0,method:o.a.GET,params:e})}},3577:function(e,t,a){"use strict";a("b88b")},"3a3e":function(e,t,a){},5945:function(e,t,a){"use strict";var o=a("862d"),n=a.n(o),r=a("2f94"),s={name:"map",props:{useApi:{default:!0,type:Boolean}},data(){return{config:a("f121"),showMap:!1,mapSearch:"",map:null,autoComplete:null,geocoder:null,positionPicker:null,tips:[],addrContent:{},loading:!1}},watch:{mapSearch:function(e){this.searchOfMap(e)}},methods:{ok(){this.loading=!0;const e=this.addrContent.address,t=this.addrContent.regeocode.addressComponent.township,a=e.indexOf(t)+t.length;this.addrContent.detail=e.substring(a);var o={cityCode:this.addrContent.regeocode.addressComponent.citycode,townName:this.addrContent.regeocode.addressComponent.township};this.useApi?Object(r.d)(o).then(e=>{this.loading=!1,e.success&&(this.showMap=!1,this.addrContent.addr=e.result.name.replace(/,/g," "),this.addrContent.addrId=e.result.id,this.$emit("getAddress",this.addrContent))}):(this.loading=!1,this.showMap=!1,this.$emit("getAddress",this.addrContent))},init(){n.a.load({key:this.config.aMapKey,version:"",plugins:["AMap.ToolBar","AMap.Autocomplete","AMap.PlaceSearch","AMap.Geolocation","AMap.Geocoder"],AMapUI:{version:"1.1",plugins:["misc/PositionPicker"]}}).then(e=>{let t=this;this.map=new e.Map("map-container",{zoom:12}),t.map.addControl(new e.ToolBar),t.map.addControl(new e.Autocomplete),t.map.addControl(new e.PlaceSearch),t.map.addControl(new e.Geocoder);var a={city:"全国"};t.autoComplete=new e.Autocomplete(a),t.geocoder=new e.Geocoder(a),t.positionPicker=new AMapUI.PositionPicker({mode:"dragMap",map:t.map}),t.positionPicker.start(),t.positionPicker.on("success",function(e){t.addrContent=e})}).catch(e=>{})},searchOfMap(e){let a=this;this.autoComplete.search(e,function(e,t){"complete"===e&&"OK"===t.info?a.tips=t.tips:a.tips=[]})},selectAddr(e){if(!e)return this.$Message.warning("请选择正确点位"),!1;e=[e.lng,e.lat];this.positionPicker.start(e)}},mounted(){this.init()}},o=(a("3577"),a("2877")),s=Object(o.a)(s,function(){var a=this,e=a.$createElement,o=a._self._c||e;return o("div",{staticClass:"lili-map"},[o("Modal",{attrs:{title:"选择地址",width:"800"},model:{value:a.showMap,callback:function(e){a.showMap=e},expression:"showMap"}},[o("div",{staticClass:"address"},[a._v(a._s(a.addrContent.address))]),o("div",{attrs:{id:"map-container"}}),o("div",{staticClass:"search-con"},[o("Input",{attrs:{placeholder:"输入关键字搜索",id:"input-map"},model:{value:a.mapSearch,callback:function(e){a.mapSearch=e},expression:"mapSearch"}}),o("ul",a._l(a.tips,function(t,e){return o("li",{key:e,on:{click:function(e){return a.selectAddr(t.location)}}},[o("p",[a._v(a._s(t.name))]),o("p",[a._v(a._s(t.district+t.address))])])}),0)],1),o("div",{attrs:{slot:"footer"},slot:"footer"},[o("Button",{attrs:{type:"default"},on:{click:function(e){a.showMap=!1}}},[a._v("取消")]),o("Button",{attrs:{type:"primary",loading:a.loading},on:{click:a.ok}},[a._v("确定")])],1)])],1)},[],!1,null,"a80f964e",null);t.a=s.exports},"59cf":function(e,t,a){"use strict";a("7016")},"685b":function(e,t,a){},6935:function(e,t,a){"use strict";a("3a3e")},"6b7c":function(e,t,a){"use strict";a("685b")},7016:function(e,t,a){},"7dfd":function(e,t,a){"use strict";a.r(t),a.d(t,"mobile",function(){return o}),a.d(t,"email",function(){return n}),a.d(t,"password",function(){return r}),a.d(t,"integer",function(){return s}),a.d(t,"Integer",function(){return i}),a.d(t,"money",function(){return l}),a.d(t,"TINumber",function(){return c}),a.d(t,"IDCard",function(){return d}),a.d(t,"userName",function(){return p}),a.d(t,"URL",function(){return u}),a.d(t,"TEL",function(){return m}),a.d(t,"licenseNum",function(){return h});const o=/^0?(13[0-9]|14[0-9]|15[0-9]|16[0-9]|17[0-9]|18[0-9]|19[0-9])[0-9]{8}$/,n=/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/,r=/^[@A-Za-z0-9!#$%^&*.~,]{6,20}$/,s=/^[1-9]\d*$/,i=/^[0-9]\d*$/,l=/(^[1-9]([0-9]+)?(\.[0-9]{1,2})?$)|(^(0){1}$)|(^[0-9]\.[0-9]([0-9])?$)/,c=/^((\d{6}[0-9A-Z]{9})|([0-9A-Za-z]{2}\d{6}[0-9A-Za-z]{10,12}))$/,d=/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/,p=/[A-Za-z0-9_\-\u4e00-\u9fa5]$/,u=/^(https?|ftp):\/\/([a-zA-Z0-9.-]+(:[a-zA-Z0-9.&%$-]+)*@)*((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]?)(\.(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9]?[0-9])){3}|([a-zA-Z0-9-]+\.)*[a-zA-Z0-9-]+\.(com|edu|gov|int|mil|net|org|biz|arpa|info|name|pro|aero|coop|museum|[a-zA-Z]{2}))(:[0-9]+)*(\/($|[a-zA-Z0-9.,?'\\+&%$#=~_-]+))*$/,m=/0\d{2,3}-\d{7,8}/,h=/(^(?:(?![IOZSV])[\dA-Z]){2}\d{6}(?:(?![IOZSV])[\dA-Z]){10}$)|(^\d{15}$)/},"84a9":function(e,t,a){"use strict";a.d(t,"b",function(){return n}),a.d(t,"c",function(){return r}),a.d(t,"e",function(){return s}),a.d(t,"g",function(){return i}),a.d(t,"f",function(){return l}),a.d(t,"a",function(){return c}),a.d(t,"d",function(){return d});var o=a("ff66");function n(e){return Object(o.d)({url:"/buyer/store/apply/first",needToken:!0,method:o.a.PUT,params:e})}function r(e){return Object(o.d)({url:"/buyer/store/apply/second",needToken:!0,method:o.a.PUT,params:e})}function s(e){return Object(o.d)({url:"/buyer/store/apply/third",needToken:!0,method:o.a.PUT,params:e})}function i(e){return Object(o.d)({url:"/buyer/store/get/detail/"+e,needToken:!0,method:o.a.GET})}function l(e){return Object(o.d)({url:"/buyer/store/label/get/"+e,needToken:!0,method:o.a.GET})}function c(){return Object(o.d)({url:"/buyer/article/type/STORE_REGISTER",needToken:!0,method:o.a.GET})}function d(){return Object(o.d)({url:"/buyer/store/apply",needToken:!0,method:o.a.GET})}},"862d":function(e,t,a){"use strict";e.exports=function(){function i(e){var t=[];return e.AMapUI&&t.push(a(e.AMapUI)),e.Loca&&t.push(o(e.Loca)),Promise.all(t)}function a(s){return new Promise(function(o,t){var n=[];if(s.plugins)for(var e=0;e<s.plugins.length;e+=1)-1==c.AMapUI.plugins.indexOf(s.plugins[e])&&n.push(s.plugins[e]);if(d.AMapUI===l.failed)t("前次请求 AMapUI 失败");else if(d.AMapUI===l.notload){d.AMapUI=l.loading,c.AMapUI.version=s.version||c.AMapUI.version,e=c.AMapUI.version;var a=document.body||document.head,r=document.createElement("script");r.type="text/javascript",r.src="https://webapi.amap.com/ui/"+e+"/main.js",r.onerror=function(e){d.AMapUI=l.failed,t("请求 AMapUI 失败")},r.onload=function(){if(d.AMapUI=l.loaded,n.length)window.AMapUI.loadUI(n,function(){for(var e=0,t=n.length;e<t;e++){var a=n[e].split("/").slice(-1)[0];window.AMapUI[a]=arguments[e]}for(o();p.AMapUI.length;)p.AMapUI.splice(0,1)[0]()});else for(o();p.AMapUI.length;)p.AMapUI.splice(0,1)[0]()},a.appendChild(r)}else d.AMapUI===l.loaded?s.version&&s.version!==c.AMapUI.version?t("不允许多个版本 AMapUI 混用"):n.length?window.AMapUI.loadUI(n,function(){for(var e=0,t=n.length;e<t;e++){var a=n[e].split("/").slice(-1)[0];window.AMapUI[a]=arguments[e]}o()}):o():s.version&&s.version!==c.AMapUI.version?t("不允许多个版本 AMapUI 混用"):p.AMapUI.push(function(e){e?t(e):n.length?window.AMapUI.loadUI(n,function(){for(var e=0,t=n.length;e<t;e++){var a=n[e].split("/").slice(-1)[0];window.AMapUI[a]=arguments[e]}o()}):o()})})}function o(s){return new Promise(function(e,t){if(c.AMap.version.startsWith("2.0"))t("Loca 暂不适配 JSAPI 2.0,请使用 1.4.15");else if(d.Loca===l.failed)t("前次请求 Loca 失败");else if(d.Loca===l.notload){d.Loca=l.loading,c.Loca.version=s.version||c.Loca.version;var a=c.Loca.version,o=c.key,n=document.body||document.head,r=document.createElement("script");r.type="text/javascript",r.src="https://webapi.amap.com/loca?v="+a+"&key="+o,r.onerror=function(e){d.Loca=l.failed,t("请求 AMapUI 失败")},r.onload=function(){for(d.Loca=l.loaded,e();p.Loca.length;)p.Loca.splice(0,1)[0]()},n.appendChild(r)}else d.Loca===l.loaded?s.version&&s.version!==c.Loca.version?t("不允许多个版本 Loca 混用"):e():s.version&&s.version!==c.Loca.version?t("不允许多个版本 Loca 混用"):p.Loca.push(function(e){e?t(e):t()})})}if(!window)throw Error("AMap JSAPI can only be used in Browser.");var l;(function(e){e.notload="notload",e.loading="loading",e.loaded="loaded",e.failed="failed"})(l||(l={}));var c={key:"",AMap:{version:"1.4.15",plugins:[]},AMapUI:{version:"1.1",plugins:[]},Loca:{version:"1.3.2"}},d={AMap:l.notload,AMapUI:l.notload,Loca:l.notload},p={AMap:[],AMapUI:[],Loca:[]},u=[],m=function(e){"function"==typeof e&&(d.AMap===l.loaded?e(window.AMap):u.push(e))};return{load:function(s){return new Promise(function(t,a){if(d.AMap==l.failed)a("");else if(d.AMap==l.notload){var e=s.key,o=s.version,n=s.plugins;e?(window.AMap&&"lbs.amap.com"!==location.host&&a("禁止多种API加载方式混用"),c.key=e,c.AMap.version=o||c.AMap.version,c.AMap.plugins=n||c.AMap.plugins,d.AMap=l.loading,o=document.body||document.head,window.___onAPILoaded=function(e){if(delete window.___onAPILoaded,e)d.AMap=l.failed,a(e);else for(d.AMap=l.loaded,i(s).then(function(){t(window.AMap)})["catch"](a);u.length;)u.splice(0,1)[0]()},n=document.createElement("script"),n.type="text/javascript",n.src="https://webapi.amap.com/maps?callback=___onAPILoaded&v="+c.AMap.version+"&key="+e+"&plugin="+c.AMap.plugins.join(","),n.onerror=function(e){d.AMap=l.failed,a(e)},o.appendChild(n)):a("请填写key")}else if(d.AMap==l.loaded)if(s.key&&s.key!==c.key)a("多个不一致的 key");else if(s.version&&s.version!==c.AMap.version)a("不允许多个版本 JSAPI 混用");else{if(e=[],s.plugins)for(o=0;o<s.plugins.length;o+=1)-1==c.AMap.plugins.indexOf(s.plugins[o])&&e.push(s.plugins[o]);e.length?window.AMap.plugin(e,function(){i(s).then(function(){t(window.AMap)})["catch"](a)}):i(s).then(function(){t(window.AMap)})["catch"](a)}else if(s.key&&s.key!==c.key)a("多个不一致的 key");else if(s.version&&s.version!==c.AMap.version)a("不允许多个版本 JSAPI 混用");else{var r=[];if(s.plugins)for(o=0;o<s.plugins.length;o+=1)-1==c.AMap.plugins.indexOf(s.plugins[o])&&r.push(s.plugins[o]);m(function(){r.length?window.AMap.plugin(r,function(){i(s).then(function(){t(window.AMap)})["catch"](a)}):i(s).then(function(){t(window.AMap)})["catch"](a)})}})},reset:function(){delete window.AMap,delete window.AMapUI,delete window.Loca,c={key:"",AMap:{version:"1.4.15",plugins:[]},AMapUI:{version:"1.1",plugins:[]},Loca:{version:"1.3.2"}},d={AMap:l.notload,AMapUI:l.notload,Loca:l.notload},p={AMap:[],AMapUI:[],Loca:[]}}}}()},b88b:function(e,t,a){},dcb2:function(e,t,a){"use strict";a("1033")}}]);