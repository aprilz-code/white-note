(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-2a7946b2"],{"001d":function(t,e,s){},"3b5b":function(t,e,s){"use strict";s("001d")},"78c0":function(t,e,s){"use strict";s.r(e);var a=s("8194"),i={name:"Favorites",props:{homePage:{type:Boolean,default:!1}},data(){return{favoriteWay:["收藏商品","收藏店铺"],list:[],total:0,params:{pageNumber:1,pageSize:100,type:"GOODS"},spinShow:!1}},methods:{getList(){this.spinShow=!0,Object(a.p)(this.params).then(t=>{this.spinShow=!1,t.success&&(this.list=t.result.records)})},change(t){0===t&&(this.params.type="GOODS"),1===t&&(this.params.type="SHOP"),this.getList()},cancel(t){var e="GOODS"===this.params.type?"商品":"店铺";this.$Modal.confirm({title:"Title",content:`<p>确定取消收藏该${e}吗？</p>`,onOk:()=>{Object(a.k)(this.params.type,t).then(t=>{t.success&&this.getList()})}})},buynow(t,e){e=this.$router.resolve({path:"/goodsDetail",query:{skuId:t,goodsId:e}});window.open(e.href,"_blank")},goShop(t){t=this.$router.resolve({path:"/merchant",query:{id:t}});window.open(t.href,"_blank")}},mounted(){this.homePage&&(this.params.pageSize=5),this.getList()}},s=(s("3b5b"),s("2877")),i=Object(s.a)(i,function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("div",{staticClass:"wrapper"},[s.homePage?a("card",{attrs:{_Title:"近期收藏",_Size:16,_Tabs:s.favoriteWay,_More:"全部收藏",_Src:"/home/Favorites"},on:{_Change:s.change}}):a("card",{attrs:{_Title:"近期收藏",_Tabs:s.favoriteWay,_Size:16},on:{_Change:s.change}}),s.list.length?a("div",[s._l(s.list,function(e){return[a("div",{key:e.skuId,staticClass:"goodsItem"},["GOODS"===s.params.type?a("div",{staticClass:"goodsImg hover-pointer"},[a("img",{attrs:{src:e.image}})]):a("div",{staticClass:"goodsImg hover-pointer"},[a("img",{attrs:{src:e.storeLogo}})]),"GOODS"===s.params.type?a("div",{staticClass:"goodsTitle hover-color",on:{click:function(t){return s.buynow(e.skuId,e.goodsId)}}},[s._v(" "+s._s(e.goodsName)+" ")]):a("div",{staticClass:"goodsTitle hover-pointer"},[s._v(" "+s._s(e.storeName)+" ")]),a("div",{staticClass:"goodsPrice"},["GOODS"===s.params.type?a("span",[s._v(s._s(s._f("unitPrice")(e.price,"￥")))]):s._e(),e.selfOperated?a("Tag",{attrs:{color:"error"}},[s._v("商家自营")]):s._e()],1),a("div",{staticClass:"goodsBuy"},["GOODS"===s.params.type?a("Button",{attrs:{size:"small",type:"primary"},on:{click:function(t){return s.buynow(e.skuId,e.goodsId)}}},[s._v("立即购买")]):a("Button",{attrs:{size:"small",type:"primary"},on:{click:function(t){return s.goShop(e.id)}}},[s._v("店铺购买")]),"GOODS"===s.params.type?a("Button",{attrs:{size:"small"},on:{click:function(t){return s.cancel(e.skuId)}}},[s._v("取消收藏")]):s._e(),"SHOP"===s.params.type?a("Button",{attrs:{size:"small"},on:{click:function(t){return s.cancel(e.id)}}},[s._v("取消收藏")]):s._e()],1)])]}),s.spinShow?a("Spin",{attrs:{size:"large",fix:""}}):s._e()],2):a("empty")],1)},[],!1,null,"570a0851",null);e.default=i.exports}}]);