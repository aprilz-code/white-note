(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-1d02db44"],{"1bbf":function(t,e,s){"use strict";s("3142")},3142:function(t,e,s){},"3e0f":function(t,e,s){"use strict";s.d(e,"c",function(){return n}),s.d(e,"a",function(){return a}),s.d(e,"b",function(){return r});var i=s("ff66");function n(t){return Object(i.d)({url:"/buyer/cashier/tradeDetail",needToken:!0,method:i.a.GET,params:t})}function a(t){return Object(i.d)({url:`/buyer/cashier/pay/${t.paymentMethod}/`+t.paymentClient,needToken:!0,method:i.a.GET,params:t})}function r(t){return Object(i.d)({url:"/buyer/cashier/result",needToken:!0,method:i.a.GET,params:t})}},"3f09":function(t,e,s){"use strict";s.r(e);var i={name:"MvCountDown",replace:!0,data(){return{tipShow:!0,msTime:{show:!1,day:"",hour:"",minutes:"",seconds:""},star:"",end:"",current:""}},props:{isStart:{type:Boolean,default:!1},tipText:{type:String,default:"距离开始"},tipTextEnd:{type:String,default:"距离结束"},id:{type:String,default:"1"},currentTime:{type:Number},startTime:{type:Number},endTime:{type:Number},endText:{type:String,default:"已结束"},dayTxt:{type:String,default:":"},hourTxt:{type:String,default:":"},minutesTxt:{type:String,default:":"},secondsTxt:{type:String,default:":"},secondsFixed:{type:Boolean,default:!1}},mounted(){},watch:{isStart:{handler:function(t){t&&this.gogogo()},immediate:!0},currentTime:function(t,e){this.gogogo()}},methods:{gogogo(){10==this.startTime.toString().length?this.star=1e3*this.startTime:this.star=this.startTime,10==this.endTime.toString().length?this.end=1e3*this.endTime:this.end=this.endTime,this.currentTime?10==this.currentTime.toString().length?this.current=1e3*this.currentTime:this.current=this.currentTime:this.current=(new Date).getTime(),this.end<this.current?(this.msTime.show=!1,this.end_message()):this.current<this.star?(this.$set(this,"tipShow",!0),this.$nextTick(()=>{this.runTime(this.star,this.current,this.start_message)})):(this.end>this.current&&this.star<this.current||this.star==this.current)&&(this.$set(this,"tipShow",!1),this.msTime.show=!0,this.$emit("start_callback",this.msTime.show),this.$nextTick(()=>{this.runTime(this.end,this.star,this.end_message,!0)}))},runTime(t,e,s,i){let n=this.msTime,a=t-e;var r;0<a?(this.msTime.show=!0,n.day=Math.floor(a/864e5),a-=864e5*n.day,n.hour=Math.floor(a/36e5),a-=36e5*n.hour,n.minutes=Math.floor(a/6e4),a-=6e4*n.minutes,n.seconds=Math.floor(a/1e3).toFixed(0),n.seconds,n.hour<10&&(n.hour="0"+n.hour),n.minutes<10&&(n.minutes="0"+n.minutes),n.seconds<10&&(n.seconds="0"+n.seconds),r=Date.now(),t=Date.now(),setTimeout(()=>{i?this.runTime(this.end,e+=1e3,s,!0):this.runTime(this.star,e+=1e3,s)},1e3-(t-r))):s()},start_message(){this.$set(this,"tipShow",!1),this.$emit("startCallback",this.msTime.show),this.$nextTick(()=>{this.runTime(this.end,this.star,this.end_message,!0)})},end_message(){this.msTime.show=!1,this.currentTime<=0||this.$emit("endCallback",this.msTime.show)}},destroyed(){}},s=(s("1bbf"),s("2877")),i=Object(s.a)(i,function(){var t=this,e=t.$createElement,e=t._self._c||e;return e("div",{staticClass:"mv-count-down"},[t.msTime.show?e("p",[0<t.msTime.day?e("span",[e("span",[t._v(t._s(t.msTime.day))]),e("i",[t._v(t._s(t.dayTxt))])]):t._e(),e("span",[t._v(t._s(t.msTime.hour))]),e("i",[t._v(t._s(t.hourTxt))]),e("span",[t._v(t._s(t.msTime.minutes))]),e("i",[t._v(t._s(t.minutesTxt))]),e("span",[t._v(t._s(t.msTime.seconds))]),e("i",[t._v(t._s(t.secondsTxt))])]):t._e(),t.msTime.show?t._e():e("p",[t._v(t._s(t.endText))])])},[],!1,null,"351b247a",null);e.default=i.exports},7053:function(t,e,s){"use strict";s.r(e);var i=s("3e0f"),n=s("b966"),n=s.n(n),a=s("002d"),n={components:{MvCountDown:n.a},data(){return{payDetail:{},support:[],walletValue:0,qrcode:"",startTime:(new Date).getTime(),endTime:0,endText:"订单已超时取消",isStart:!1}},methods:{getTradeDetail(){const t=this.$route.query;t.clientType="PC",Object(i.c)(t).then(t=>{t.success&&(this.payDetail=t.result,this.endTime=this.payDetail.autoCancel,this.isStart=!0,this.support=this.payDetail.support,this.walletValue=this.payDetail.walletValue)})},handlePay(t){if("WALLET"===t&&this.payDetail.price>this.walletValue)a.Message.error("余额不足以支付当前订单，如需充值请前往会员中心");else{const e=this.$route.query;e.paymentMethod=t,e.paymentClient="NATIVE",e.price=this.payDetail.price,"WALLET"===t?this.$Modal.confirm({title:"支付确认",content:"<p>确认使用余额支付吗？</p>",onOk:()=>{Object(i.a)(e).then(t=>{t.success?(this.$Message.warning(t.message),this.$router.push("/payDone")):this.$Message.warning(t.message)})}}):this.$router.push({path:"/qrpay",query:e})}}},mounted(){this.getTradeDetail()}},s=(s("d7e4"),s("2877")),n=Object(s.a)(n,function(){var e=this,t=e.$createElement,t=e._self._c||t;return t("div",{staticClass:"wrapper"},[t("BaseHeader"),t("div",{staticClass:"wrapper-head"},[t("div",{staticClass:"head-left"},[t("div",{staticClass:"left-tips"},[e._v("订单提交成功，请尽快付款！")]),t("div",{staticClass:"left-tips-time"},[e._v("请您尽快完成支付，否则订单会被自动取消")]),t("div",{staticClass:"left-tips-count-down"},[t("mv-count-down",{staticClass:"count-down",attrs:{startTime:e.startTime,endTime:e.endTime,endText:e.endText,dayTxt:"天",hourTxt:"小时",minutesTxt:"分钟",secondsTxt:"秒",isStart:e.isStart}})],1)]),t("div",{staticClass:"head-right"},[t("div",[e._v("应付金额 "),t("span",{staticClass:"price"},[e._v(e._s(e._f("unitPrice")(e.payDetail.price)))]),e._v("元")])])]),t("div",{staticClass:"wrapper-box"},[e.support.includes("ALIPAY")?t("div",{staticClass:"-box-item",on:{click:function(t){return e.handlePay("ALIPAY")}}},[t("img",{attrs:{src:"https://ss3.bdstatic.com/yrwDcj7w0QhBkMak8IuT_XF5ehU5bvGh7c50/logopic/a9936a369e82e0c6c42112674a5220e8_fullsize.jpg",alt:""}}),t("span",[e._v("支付宝")])]):e._e(),e.support.includes("WECHAT")?t("div",{staticClass:"-box-item",on:{click:function(t){return e.handlePay("WECHAT")}}},[t("img",{attrs:{src:"https://dss1.bdstatic.com/6OF1bjeh1BF3odCf/it/u=3774939867,2826752539&fm=74&app=80&f=JPEG&size=f121,121?sec=1880279984&t=796e842a5ef2d16d9edc872d6f1147ef",alt:""}}),t("span",[e._v("微信")])]):e._e(),e.support.includes("WALLET")&&"RECHARGE"!==e.$route.query.orderType?t("div",{staticClass:"-box-item",on:{click:function(t){return e.handlePay("WALLET")}}},[t("Icon",{attrs:{custom:"icomoon icon-wallet",size:"60"}}),t("span",[e._v("余额支付")]),t("span",[e._v("当前剩余("+e._s(e._f("unitPrice")(e.walletValue,"￥"))+")")])],1):e._e()]),t("BaseFooter")],1)},[],!1,null,"2b14207e",null);e.default=n.exports},b966:function(t,e,s){t.exports=s("3f09")},d7e4:function(t,e,s){"use strict";s("ea99")},ea99:function(t,e,s){}}]);