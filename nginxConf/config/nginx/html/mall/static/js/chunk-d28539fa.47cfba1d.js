(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-d28539fa"],{"58f6":function(s,t,e){"use strict";e("c60e")},c60e:function(s,t,e){},d04c:function(s,t,e){"use strict";e.r(t);var a=e("8194"),i={name:"Coupons",data(){return{statusNameList:["未使用","已使用","已过期"],statusList:["NEW","USED","EXPIRE"],loading:!1,params:{pageNumber:1,pageSize:10,memberCouponStatus:"NEW"},total:0,list:[]}},methods:{getList(){this.loading=!0,Object(a.I)(this.params).then(s=>{this.loading=!1,s.success&&(this.list=s.result.records,this.total=s.result.total)})},change(s){this.params.memberCouponStatus=this.statusList[s],this.params.pageNumber=1,this.getList()},go(s){"NEW"===this.params.memberCouponStatus&&("platform"!==s.storeId?this.$router.push({path:"/merchant",query:{id:s.storeId}}):"PORTION_GOODS_CATEGORY"===s.scopeType?this.$router.push({path:"/goodsList",query:{categoryId:s.scopeId}}):this.$router.push({path:"/goodsList"}))},changePageNum(s){this.params.pageNumber=s,this.getList()},changePageSize(s){this.params.pageNumber=1,this.params.pageSize=s,this.getList()},useScope(s,t){let e="平台",a="全部商品";switch("platform"!==t&&(e=t),s){case"ALL":a="全部商品";break;case"PORTION_GOODS":a="部分商品";break;case"PORTION_GOODS_CATEGORY":a="部分分类商品"}return""+e+a+"可用"}},mounted(){this.getList()}},e=(e("58f6"),e("2877")),i=Object(e.a)(i,function(){var e=this,s=e.$createElement,a=e._self._c||s;return a("div",{staticClass:"wrapper"},[a("card",{attrs:{_Title:"优惠券列表",_Tabs:e.statusNameList},on:{_Change:e.change}}),0==e.list.length?a("empty"):a("ul",{staticClass:"coupon-list"},e._l(e.list,function(t,s){return a("li",{key:s,staticClass:"coupon-item"},[a("div",{staticClass:"c-left"},[a("div",["PRICE"===t.couponType?a("span",{staticClass:"fontsize_12 global_color"},[e._v("￥"),a("span",{staticClass:"price"},[e._v(e._s(e._f("unitPrice")(t.price)))])]):e._e(),"DISCOUNT"===t.couponType?a("span",{staticClass:"fontsize_12 global_color"},[a("span",{staticClass:"price"},[e._v(e._s(t.discount))]),e._v("折")]):e._e(),a("span",{staticClass:"describe"},[e._v("满"+e._s(t.consumeThreshold)+"元可用")])]),a("p",[e._v("使用范围："+e._s(e.useScope(t.scopeType,t.storeName)))]),a("p",[e._v("有效期："+e._s(t.endTime))])]),a("b"),a("a",{staticClass:"c-right",class:{"canot-use":"NEW"!==e.params.memberCouponStatus},on:{click:function(s){return e.go(t)}}},[e._v("立即使用")]),a("i",{staticClass:"circle-top"}),a("i",{staticClass:"circle-bottom"})])}),0),a("Page",{staticClass:"pageration",attrs:{total:e.total,"page-size":e.params.pageSize,"show-total":"","show-sizer":""},on:{"on-change":e.changePageNum,"on-page-size-change":e.changePageSize}}),e.loading?a("Spin",{attrs:{fix:""}}):e._e()],1)},[],!1,null,"3b158417",null);t.default=i.exports}}]);