(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-4ea3354a"],{"3e0f":function(t,e,a){"use strict";a.d(e,"c",function(){return s}),a.d(e,"a",function(){return n}),a.d(e,"b",function(){return i});var r=a("ff66");function s(t){return Object(r.d)({url:"/buyer/cashier/tradeDetail",needToken:!0,method:r.a.GET,params:t})}function n(t){return Object(r.d)({url:`/buyer/cashier/pay/${t.paymentMethod}/`+t.paymentClient,needToken:!0,method:r.a.GET,params:t})}function i(t){return Object(r.d)({url:"/buyer/cashier/result",needToken:!0,method:r.a.GET,params:t})}},5208:function(t,e,a){},"719f":function(t,e,a){"use strict";a.r(e);var r=a("658f"),r=a.n(r),s=a("3e0f"),r={components:{vueQr:r.a},data(){return{qrcode:"",params:this.$route.query,interval:null,num:0}},methods:{handlePay(){var t=this.$route.query;Object(s.a)(t).then(t=>{t.success?(this.qrcode=t.result,this.num=0,this.interval=setInterval(this.callback,5e3)):this.$Message.error(t.message)})},callback(){this.num++,7<=this.num&&(clearInterval(this.interval),this.interval=null);let t=JSON.parse(JSON.stringify(this.$route.query));delete t.paymentMethod,delete t.paymentClient,Object(s.b)(t).then(t=>{t.result&&(clearInterval(this.interval),this.interval=null,this.$router.push({path:"/payDone",query:{orderType:this.$route.query.orderType}}))})}},mounted(){this.handlePay()}},a=(a("c706"),a("2877")),r=Object(a.a)(r,function(){var e=this,t=e.$createElement,t=e._self._c||t;return t("div",{staticClass:"wrapper"},[t("BaseHeader"),t("div",{staticClass:"wrapper-head"},[e._m(0),t("div",{staticClass:"head-right"},[t("div",[e._v("应付金额 "),t("span",{staticClass:"price"},[e._v(e._s(e._f("unitPrice")(e.$route.query.price)))]),e._v("元")])])]),t("div",{staticClass:"content"},[t("div",{staticClass:"pay-way"},[e._v(e._s("ALIPAY"===e.params.paymentMethod?"支付宝支付":"微信支付"))]),t("div",{staticClass:"qrcode"},[t("div",{staticStyle:{width:"200px",height:"200px",border:"1px solid #eee"}},[t("vue-qr",{attrs:{text:e.qrcode,margin:0,colorDark:"#000",colorLight:"#fff",size:200}})],1),t("div",{staticClass:"intro"},[t("Icon",{attrs:{type:"md-qr-scanner"}}),e._v(" 请使用"+e._s("ALIPAY"===e.params.paymentMethod?"支付宝":"微信")+"扫码付款 ")],1)]),t("div",{staticClass:"btn-div"},[t("p",{staticClass:"mb_10"},[e._v("支付成功后自动跳转，如未跳转请点击按钮手动跳转。。。")]),t("div",[t("Button",{on:{click:e.handlePay}},[e._v("重新支付")]),t("Button",{attrs:{type:"success"},on:{click:function(t){return e.$router.push("/payDone")}}},[e._v("支付成功")])],1)]),t("a",{on:{click:function(t){return e.$router.back()}}},[e._v("选择其他支付方式>")])]),t("BaseFooter")],1)},[function(){var t=this,e=t.$createElement,e=t._self._c||e;return e("div",{staticClass:"head-left"},[e("div",{staticClass:"left-tips"},[t._v("订单提交成功，请尽快付款！")]),e("div",{staticClass:"left-tips-time"},[t._v("请您尽快完成支付，否则订单会被自动取消")])])}],!1,null,"4aa8823c",null);e.default=r.exports},c706:function(t,e,a){"use strict";a("5208")}}]);