(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-358c07a4"],{"06e1":function(t,e,s){"use strict";s.r(e);var a=s("8194"),i={name:"MyTrack",data(){return{list:[],spinShow:!1,params:{pageNumber:1,pageSize:30,order:"desc",sort:"createTime"},total:0}},mounted(){this.getList()},methods:{goodsDetail(t,e){e=this.$router.resolve({path:"/goodsDetail",query:{skuId:t,goodsId:e}});window.open(e.href,"_blank")},shopPage(t){t=this.$router.resolve({path:"/Merchant",query:{id:t}});window.open(t.href,"_blank")},clearAll(){this.$Modal.confirm({title:"删除",content:"<p>确定要删除全部足迹吗？</p>",onOk:()=>{Object(a.m)().then(t=>{t.success&&(this.$Message.success("删除成功"),this.getList())})},onCancel:()=>{}})},clearById(t){Object(a.n)(t).then(t=>{t.success&&(this.$Message.success("删除成功"),this.getList())})},changePageNum(t){this.params.pageNumber=t,this.getList()},changePageSize(t){this.params.pageNumber=1,this.params.pageSize=t,this.getList()},getList(){this.spinShow=!0,Object(a.Q)(this.params).then(t=>{this.spinShow=!1,t.success&&t.result?this.list=t.result:this.list=[]})}}},s=(s("e605"),s("2877")),i=Object(s.a)(i,function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("div",{staticClass:"wrapper"},[a("card",{attrs:{_Title:"我的足迹",_Size:16}}),a("Button",{staticClass:"del-btn",attrs:{type:"primary"},on:{click:s.clearAll}},[s._v("删除全部")]),0===s.list.length?a("empty"):a("ul",{staticClass:"track-list"},s._l(s.list,function(e,t){return a("li",{key:t,on:{click:function(t){return s.goodsDetail(e.id,e.goodsId)}}},[a("img",{attrs:{src:e.thumbnail,alt:e.thumbnail,width:"200",height:"200"}}),a("p",{staticClass:"ellipsis"},[s._v(s._s(e.goodsName))]),a("p",[s._v(s._s(s._f("unitPrice")(e.price,"￥")))]),a("span",{staticClass:"del-icon",on:{click:function(t){return t.stopPropagation(),s.clearById(e.goodsId)}}},[a("Icon",{attrs:{type:"md-trash"}})],1)])}),0),a("div",{staticClass:"page-size"},[a("Page",{attrs:{total:s.total,"page-size":s.params.pageSize,"show-sizer":""},on:{"on-change":s.changePageNum,"on-page-size-change":s.changePageSize}})],1)],1)},[],!1,null,"8b7db96e",null);e.default=i.exports},"801f":function(t,e,s){},e605:function(t,e,s){"use strict";s("801f")}}]);