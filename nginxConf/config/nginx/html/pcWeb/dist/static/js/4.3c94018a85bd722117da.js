webpackJsonp([4],{"+CVg":function(t,e){},FBzZ:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n("fY6B"),a={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-dialog",{attrs:{visible:t.dialogPictureVisible,fullscreen:""},on:{"update:visible":function(e){t.dialogPictureVisible=e}}},[n("img",{staticStyle:{margin:"0 auto"},attrs:{src:t.dialogImageUrl,alt:"dialogImageUrl"}})]),t._v(" "),n("div",{staticClass:"pagebg ab"}),t._v(" "),n("div",{staticClass:"container"},[n("div",{staticClass:"news_infos"},[n("div",{directives:[{name:"highlight",rawName:"v-highlight"}],staticClass:"news_con fixck newsview ck-content",domProps:{innerHTML:t._s(t.info.personResume)},on:{click:t.imageChange}},[t._v(t._s(t.info.personResume))]),t._v(" "),n("el-divider"),t._v(" "),"1"==t.openComment?n("CommentBox",{attrs:{userInfo:t.userInfo,commentInfo:t.commentInfo,showCancel:t.showCancel},on:{"submit-box":t.submitBox}}):t._e(),t._v(" "),"1"==t.openComment?n("div",{staticClass:"message_infos"},[n("CommentList",{attrs:{comments:t.comments,commentInfo:t.commentInfo}}),t._v(" "),0==t.comments.length?n("div",{staticClass:"noComment"},[t._v("还没有评论，快来抢沙发吧！")]):t._e()],1):t._e()],1),t._v(" "),n("div",{staticClass:"sidebar"},[n("div",{staticClass:"about"},[t.info.photoList?n("p",{staticClass:"avatar"},[n("img",{attrs:{src:t.info.photoList[0],alt:""}})]):t._e(),t._v(" "),n("p",{staticClass:"abname"},[t._v(t._s(t.info.nickName))]),t._v(" "),n("p",{staticClass:"abposition"},[t._v(t._s(t.info.occupation))]),t._v(" "),n("p",{staticClass:"abtext"},[t._v(t._s(t.info.summary))])]),t._v(" "),n("follow-us")],1)])],1)},staticRenderFns:[]};var i=function(t){n("+CVg")},s=n("VU/8")(o.a,a,!1,i,"data-v-2ab17b4e",null);e.default=s.exports},"KGa+":function(t,e,n){"use strict";e.a=function(t){return Object(o.a)({url:window._env_.WEB_API+"/about/getMe",method:"get",params:t})};var o=n("vLgD")},fY6B:function(t,e,n){"use strict";(function(t){var o=n("Dd8w"),a=n.n(o),i=n("5KKw"),s=n("KGa+"),c=n("XynI"),m=n("H5KB"),r=n("NYxO"),l=n("kFim"),u=n("vHhr"),d=n("gyMJ");e.a={name:"about",data:function(){return{dialogPictureVisible:!1,dialogImageUrl:"",showCancel:!1,submitting:!1,comments:[],commentInfo:{source:"ABOUT"},currentPage:1,pageSize:10,total:0,toInfo:{},userInfo:{},info:{},sid:"test",isRouterAlive:!1,openComment:"0"}},components:{FollowUs:i.a,CommentList:c.a,CommentBox:m.a,Sticky:u.a},mounted:function(){var e=this;t(window).scroll(function(){if(t(document).height()==t(window).height()+t(window).scrollTop()){if(e.comments.length>=e.total)return void console.log("已经到底了");var n={};n.source=e.commentInfo.source,n.currentPage=e.currentPage+1,n.pageSize=e.pageSize,Object(l.c)(n).then(function(t){t.code==e.$ECode.SUCCESS&&(e.comments=e.comments.concat(t.data.records),e.setCommentList(e.comments),e.currentPage=t.data.current,e.pageSize=t.data.size,e.total=t.data.total)})}})},created:function(){var t=this;Object(s.a)().then(function(e){e.code==t.$ECode.SUCCESS&&(t.info=e.data)}),this.getCommentDataList(),this.setCommentAndAdmiration()},methods:a()({},Object(r.c)(["setCommentList","setWebConfigData"]),{handleCurrentChange:function(t){this.currentPage=t,this.getCommentDataList()},setCommentAndAdmiration:function(){var t=this,e=this.$store.state.app.webConfigData;e.createTime?this.openComment=e.openComment:Object(d.h)().then(function(n){n.code==t.$ECode.SUCCESS&&(e=n.data,t.setWebConfigData(n.data),t.openComment=e.openComment)})},imageChange:function(t){"img"==t.target.localName&&(this.dialogPictureVisible=!0,this.dialogImageUrl=t.target.currentSrc)},submitBox:function(t){var e=this,n={};n.blogUid=t.blogUid,n.source=t.source,n.userUid=t.userUid,n.content=t.content,n.blogUid=t.blogUid,Object(l.a)(n).then(function(t){t.code==e.$ECode.SUCCESS?e.$notify({title:"成功",message:"发表成功~",type:"success",offset:100}):e.$notify.error({title:"错误",message:t.data,offset:100}),e.getCommentDataList()})},getCommentDataList:function(){var t=this,e={};e.source=this.commentInfo.source,e.currentPage=this.currentPage,e.pageSize=this.pageSize,Object(l.c)(e).then(function(e){e.code==t.$ECode.SUCCESS&&(t.comments=e.data.records,t.setCommentList(t.comments),t.currentPage=e.data.current,t.pageSize=e.data.size,t.total=e.data.total)})}})}}).call(e,n("7t+N"))}});
//# sourceMappingURL=4.3c94018a85bd722117da.js.map